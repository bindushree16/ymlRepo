resources:
  - name: repo_pipe
    type: GitRepo
    configuration:
      gitProvider: bindu_github
      path: bindushree16/ymlRepo
      
pipelines:
  - name: utilityfuction_testpipeline
    steps:
      - name: my_utilityFunction_step
        type: Bash
        configuration:
       #   integrations:
       #     - name: bindu_github
          inputResources:
            - name: repo_pipe
            
        execution:
          onExecute: 
            - printenv
            - bump_semver v3.0.0 major
            - bump_semver v3.0.0 minor
            - bump_semver v3.0.0 patch
            - bump_semver v3.0.0 beta 
            - bump_semver v1.0.0-rc rc
            - bump_semver v1.0.0-rc.12 final
           ## - bump_semver v1.0.0 badaction
            
            - compare_git --resource repo_pipe --commit-range HEAD~2..HEAD utilityfunction.yml
            - pushd $res_repo_pipe_resourcePath
            - pwd
            - compare_git --path ./test --commit-range HEAD~1..HEAD 
            
            - update_commit_status repo_pipe --status failure --message "my description" --context "my_utilityFunction_step"
             # (i am not able to see status on commit )
            - update_commit_status repo_pipe
            
            - openssl genrsa -out key.pem 1024 
            - openssl rsa -in key.pem -text -noout
            - openssl rsa -in key.pem -pubout -out pub.pem 
            - openssl rsa -in pub.pem -pubin -text -noout 
            - encrypt_string "secretValue" --key pub.pem
            - encrypted=$(encrypt_string "secretValue" --key pub.pem)
            - echo "$encrypted"
            - decrypt_string "$encrypted" --key key.pem
            
            - touch secrets.txt 
            - echo "my secret keys are here" >> encrypted.txt
            - cat encrypted.txt
            - cat pub.pem
            - encrypt_file --output secrets.txt --key pub.pem
            - cat secrets.txt
      
